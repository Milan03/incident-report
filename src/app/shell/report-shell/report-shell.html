<div class="page">
    @if (state.hasDraft && !state.hasAcknowledgedDraft) {
    <div class="banner">
        <div class="banner-left">
            <div class="banner-title">Unfinished draft detected</div>
            <div class="banner-sub">You can continue where you left off, or start a new report.</div>
        </div>

        <div class="banner-actions">
            <button type="button" class="btn primary" (click)="dismissDraftNotice()">Continue</button>
            <button type="button" class="btn" (click)="startNew()">Start new</button>
        </div>
    </div>
    }

    <nav class="steps">
        @for (s of steps; track s.key) {
        <button type="button" class="step" [class.active]="steps.indexOf(s) === currentIndex()"
            [disabled]="!canNavigateTo(steps.indexOf(s))" (click)="goTo(steps.indexOf(s))">
            {{ s.label }}
        </button>
        }
    </nav>

    <main class="content">
        <router-outlet></router-outlet>
    </main>

    <footer class="footer">
        <span class="save-status">{{ state.savingText }}</span>

        <div>
            <button type="button" class="btn" (click)="goBack()">Back</button>
            <button type="button" class="btn primary" (click)="goNext()" [disabled]="!canGoNext()">
                Next
            </button>
        </div>
    </footer>
</div>